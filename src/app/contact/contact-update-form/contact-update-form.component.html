<div class="subnav">
   <button color="primary" routerLink="/contacts" mat-icon-button aria-label="navigate to contacts list">
      <mat-icon>navigate_before</mat-icon>
   </button>
   <h1>Mettre à jour un contact</h1>
</div>

<div *ngIf="loaderService.isLoadingObs | async" class="d-flex justify-content-center">
   <mat-spinner diameter="40"></mat-spinner>
</div>


<form *ngIf="(loaderService.isLoadingObs | async)==false" [formGroup]="updateContactForm"
   (ngSubmit)="onSubmit(contactId, updateContactForm)">
   <div class="mb-2">
      <label class="form-label">Prénom</label>
      <input formControlName="first" type="text" class="form-control">
      <p *ngIf="updateContactForm.get('first').hasError('minlength') && updateContactForm.get('first').touched"
         class="form-error">
         Min. 2 caractères
      </p>
   </div>
   <div class="mb-2">
      <label class="form-label">Nom</label>
      <input formControlName="last" type="text" class="form-control">
      <p *ngIf="(updateContactForm.get('last').hasError('minlength') && updateContactForm.get('last').touched)"
         class="form-error">
         Min. 2 caractères
      </p>
   </div>
   <div class="mb-2">
      <label class="form-label">Telephone</label>
      <input formControlName="phone" type="text" class="form-control">
      <p *ngIf="updateContactForm.get('phone').hasError('required') && updateContactForm.get('phone').touched"
         class="form-error">
         Le téléphone est requis
      </p>
   </div>
   <div class="mb-2">
      <label class="form-label">Email</label>
      <input formControlName="email" type="text" class="form-control">
      <p *ngIf="updateContactForm.get('email').hasError('email') && updateContactForm.get('email').touched"
         class="form-error">
         Renseignez un email valide
      </p>
   </div>
   <div class="mt-3">
      <button type="submit" mat-flat-button color="primary" type="submit">Mettre à jour</button>
   </div>
</form>